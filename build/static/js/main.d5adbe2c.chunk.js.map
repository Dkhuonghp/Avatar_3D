{"version":3,"sources":["twind/styled.js","twind/domElements.js","Avatar.js","Mouse.js","App.js","index.js"],"names":["isFunction","functionToCheck","toString","call","forEach","tag","tw","args","children","props","twArgs","createElement","className","createTagFunction","Avatar","useGLTF","scene","nodes","plane","callback","useThree","gl","camera","bounds","domElement","getBoundingClientRect","useMemo","position","THREE","mouse","raycaster","useEffect","listener","window","addEventListener","e","x","clientX","width","y","clientY","height","setFromCamera","ray","intersectPlane","removeEventListener","useMouse3D","mouse3D","Head","lookAt","object","Wireframe","onCompile","useLayoutEffect","compile","fadeIn","animation","from","opacity","to","fadeOut","fov","button","primary","App","AvatarCanvas","size","wipeIn","maskPosition","useState","state","setState","detailStyles","css","maskImage","maskSize","willChange","PlaceholderCanvas","onReady","DetailCanvas","setTimeout","concurrent","resize","polyfill","ResizeObserver","fallback","Environment","preset","Precompile","setup","theme","extend","colors","gray","ReactDOM","render","document","getElementById"],"mappings":"yQAKA,SAASA,EAAWC,GAElB,OAAOA,GAAyD,sBAAtC,GAAGC,SAASC,KAAKF,GCL9B,CACb,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SDvHUG,SAAQ,SAACC,GAAD,OAAUC,IAAGD,GAVjC,SAA2BA,GACzB,OAAO,WAAoB,IAAD,uBAANE,EAAM,yBAANA,EAAM,gBACxB,OAAO,YAA6B,IAA1BC,EAAyB,EAAzBA,SAAaC,EAAY,iBAE3BC,EAASV,EAAWO,EAAK,IAAMA,EAAK,GAAGE,GAASF,EACtD,OAAOI,wBAAcN,EAAD,aAAQO,UAAWN,YAAGI,IAAYD,GAASD,KAK7BK,CAAkBR,M,kDEb3C,SAASS,EAAOL,GAC7B,MAAyBM,YAAQ,cAAzBC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,MAUf,OCdwB,SAACC,GAAgC,IAAzBC,EAAwB,uDAAb,aAC3C,EAAuBC,cAAfC,EAAR,EAAQA,GAAIC,EAAZ,EAAYA,OACNC,EAASF,EAAGG,WAAWC,wBAC7B,EA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","file":"static/js/main.d5adbe2c.chunk.js","sourcesContent":["import { tw, setup } from 'twind'\r\nimport { createElement } from 'react'\r\n\r\nimport domElements from './domElements'\r\n\r\nfunction isFunction(functionToCheck) {\r\n  // https://stackoverflow.com/a/7356528\r\n  return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]'\r\n}\r\n\r\nfunction createTagFunction(tag) {\r\n  return function (...args) {\r\n    return ({ children, ...props }) => {\r\n      // If we got a callback, give it our props\r\n      const twArgs = isFunction(args[0]) ? args[0](props) : args\r\n      return createElement(tag, { className: tw(twArgs), ...props }, children)\r\n    }\r\n  }\r\n}\r\n\r\ndomElements.forEach((tag) => (tw[tag] = createTagFunction(tag)))\r\n\r\nexport { tw, setup }\r\n","// Copied from https://github.com/styled-components/styled-components\r\n\r\nexport default [\r\n  'a',\r\n  'abbr',\r\n  'address',\r\n  'area',\r\n  'article',\r\n  'aside',\r\n  'audio',\r\n  'b',\r\n  'base',\r\n  'bdi',\r\n  'bdo',\r\n  'big',\r\n  'blockquote',\r\n  'body',\r\n  'br',\r\n  'button',\r\n  'canvas',\r\n  'caption',\r\n  'cite',\r\n  'code',\r\n  'col',\r\n  'colgroup',\r\n  'data',\r\n  'datalist',\r\n  'dd',\r\n  'del',\r\n  'details',\r\n  'dfn',\r\n  'dialog',\r\n  'div',\r\n  'dl',\r\n  'dt',\r\n  'em',\r\n  'embed',\r\n  'fieldset',\r\n  'figcaption',\r\n  'figure',\r\n  'footer',\r\n  'form',\r\n  'h1',\r\n  'h2',\r\n  'h3',\r\n  'h4',\r\n  'h5',\r\n  'h6',\r\n  'head',\r\n  'header',\r\n  'hgroup',\r\n  'hr',\r\n  'html',\r\n  'i',\r\n  'iframe',\r\n  'img',\r\n  'input',\r\n  'ins',\r\n  'kbd',\r\n  'keygen',\r\n  'label',\r\n  'legend',\r\n  'li',\r\n  'link',\r\n  'main',\r\n  'map',\r\n  'mark',\r\n  'marquee',\r\n  'menu',\r\n  'menuitem',\r\n  'meta',\r\n  'meter',\r\n  'nav',\r\n  'noscript',\r\n  'object',\r\n  'ol',\r\n  'optgroup',\r\n  'option',\r\n  'output',\r\n  'p',\r\n  'param',\r\n  'picture',\r\n  'pre',\r\n  'progress',\r\n  'q',\r\n  'rp',\r\n  'rt',\r\n  'ruby',\r\n  's',\r\n  'samp',\r\n  'script',\r\n  'section',\r\n  'select',\r\n  'small',\r\n  'source',\r\n  'span',\r\n  'strong',\r\n  'style',\r\n  'sub',\r\n  'summary',\r\n  'sup',\r\n  'table',\r\n  'tbody',\r\n  'td',\r\n  'textarea',\r\n  'tfoot',\r\n  'th',\r\n  'thead',\r\n  'time',\r\n  'title',\r\n  'tr',\r\n  'track',\r\n  'u',\r\n  'ul',\r\n  'var',\r\n  'video',\r\n  'wbr',\r\n\r\n  // SVG\r\n  'circle',\r\n  'clipPath',\r\n  'defs',\r\n  'ellipse',\r\n  'foreignObject',\r\n  'g',\r\n  'image',\r\n  'line',\r\n  'linearGradient',\r\n  'marker',\r\n  'mask',\r\n  'path',\r\n  'pattern',\r\n  'polygon',\r\n  'polyline',\r\n  'radialGradient',\r\n  'rect',\r\n  'stop',\r\n  'svg',\r\n  'text',\r\n  'tspan',\r\n]\r\n","import { Html, useGLTF } from '@react-three/drei'\r\nimport React, { useLayoutEffect, useMemo } from 'react'\r\nimport { useThree } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nimport { useMouse3D } from './Mouse'\r\n\r\nexport default function Avatar(props) {\r\n  const { scene, nodes } = useGLTF('avatar.glb')\r\n  const { plane } = useMemo(\r\n    () => ({\r\n      plane: new THREE.Plane(new THREE.Vector3(0, 0, 1), -0.5),\r\n    }),\r\n    []\r\n  )\r\n  useMouse3D(plane, (mouse3D) => {\r\n    nodes.Head.lookAt(mouse3D)\r\n  })\r\n  return (\r\n    <group {...props}>\r\n      <primitive object={scene} />\r\n    </group>\r\n  )\r\n}\r\n\r\nexport function Wireframe({ onCompile = () => {}, ...props }) {\r\n  const { nodes } = useGLTF('loading.glb')\r\n  const { gl, scene, camera } = useThree()\r\n  useLayoutEffect(() => {\r\n    gl.compile(scene, camera)\r\n    onCompile()\r\n  }, [])\r\n  return (\r\n    <group {...props}>\r\n      {/* <mesh geometry={nodes.Loading.geometry}>\r\n        <meshBasicMaterial color=\"gray\" wireframe />\r\n      </mesh> */}\r\n    </group>\r\n  )\r\n}\r\n\r\nexport function Loading() {\r\n  return <Html>loading...</Html>\r\n}\r\n","import { useEffect, useMemo } from 'react'\r\nimport { useThree } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nexport const useMouse3D = (plane, callback = () => {}) => {\r\n  const { gl, camera } = useThree()\r\n  const bounds = gl.domElement.getBoundingClientRect()\r\n  const { position, mouse, raycaster } = useMemo(() => {\r\n    const position = new THREE.Vector3()\r\n    const mouse = new THREE.Vector2()\r\n    // We need a new raycaster that works beyond the canvas\r\n    const raycaster = new THREE.Raycaster()\r\n    return { position, mouse, raycaster }\r\n  }, [])\r\n  useEffect(() => {\r\n    const onMouseMove = (e) => {\r\n      mouse.x = ((e.clientX - bounds.x) / bounds.width) * 2 - 1\r\n      mouse.y = ((e.clientY - bounds.y) / bounds.height) * -2 + 1\r\n      raycaster.setFromCamera(mouse, camera)\r\n      raycaster.ray.intersectPlane(plane, position)\r\n      callback(position)\r\n    }\r\n    const listener = window.addEventListener('mousemove', onMouseMove)\r\n    return () => window.removeEventListener('mousemove', listener)\r\n  }, [bounds])\r\n  return position\r\n}\r\n","import React, { Suspense, useLayoutEffect, useRef, useState } from 'react'\r\nimport { Canvas, useThree } from 'react-three-fiber'\r\nimport { Environment } from '@react-three/drei'\r\nimport { tw } from './twind/styled'\r\nimport Avatar, { Wireframe } from './Avatar'\r\nimport { animation, css } from 'twind/css'\r\nimport { ResizeObserver } from '@juggle/resize-observer'\r\n\r\nconst fadeIn = animation('0.5s ease forwards', {\r\n  from: { opacity: 0 },\r\n  to: { opacity: 1 },\r\n})\r\n\r\nconst fadeOut = animation('0.5s ease forwards 1s', {\r\n  from: { opacity: 1 },\r\n  to: { opacity: 0 },\r\n})\r\n\r\nconst camera = { position: [0, 0, 2], fov: 12 }\r\n\r\nconst Button = tw.button(({ primary }) => [\r\n  primary ? tw`bg-purple-700 text-white` : tw`bg-gray-200 text-black`,\r\n  tw`font-semibold`,\r\n  tw`px-8 py-2 rounded-lg`,\r\n  tw`focus:outline-none focus:ring`,\r\n])\r\n\r\nexport default function App() {\r\n  return (\r\n    <div className={tw`h-screen grid place-items-center overflow-y-scroll`}>\r\n      <div className={tw`max-w-2xl mx-auto flex flex-col md:flex-row items-center p-8`}>\r\n        <AvatarCanvas size={64} />\r\n        {/* <div className={tw`flex-grow text-white flex flex-col justify-center space-y-4`}>\r\n          <h1 className={tw`text-5xl font-bold`}>\r\n            Hi, I'm <span>Jack.</span>\r\n          </h1>\r\n          <p className={tw``}>I'm a UX Engineer specializing in XR and the web.</p>\r\n          <div className={tw`flex space-x-4`}>\r\n            <Button primary=\"true\">Projects</Button>\r\n            <Button>About Me</Button>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst wipeIn = animation('1s forwards ease', {\r\n  from: { maskPosition: '0 0' },\r\n  to: { maskPosition: '0 100%' },\r\n})\r\n\r\nfunction AvatarCanvas({ size = 48 }) {\r\n  const [state, setState] = useState(null)\r\n  const detailStyles = tw(\r\n    wipeIn,\r\n    css({\r\n      maskImage: 'linear-gradient(to bottom, transparent 0 45%, black 55% 100%)',\r\n      maskSize: '100% 200%',\r\n      willChange: 'mask-position',\r\n    })\r\n  )\r\n  const queueDone = (ms) => {\r\n    setTimeout(() => setState('done'), ms)\r\n  }\r\n  return (\r\n    <div className={tw`w-64 h-64 relative`}>\r\n      <div className={tw`h-full w-full absolute`}>\r\n        <PlaceholderCanvas className={tw`${state === 'placeholder' ? fadeIn : fadeOut}`} onReady={() => setState('placeholder')} />\r\n      </div>\r\n      <div className={tw`h-full w-full absolute`}>\r\n        <DetailCanvas className={tw`${state === 'done' && detailStyles}`} onReady={() => queueDone(500)} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PlaceholderCanvas({ onReady, ...props }) {\r\n  return (\r\n    <Canvas concurrent camera={camera} {...props} resize={{ polyfill: ResizeObserver }}>\r\n      <Suspense fallback={null}>\r\n        <Wireframe position-y={-0.6} onCompile={onReady} />\r\n      </Suspense>\r\n    </Canvas>\r\n  )\r\n}\r\n\r\nfunction DetailCanvas({ onReady, ...props }) {\r\n  return (\r\n    <Canvas concurrent camera={camera} {...props} resize={{ polyfill: ResizeObserver }}>\r\n      <Suspense fallback={null}>\r\n        <Environment preset=\"warehouse\" />\r\n        <Avatar position-y={-0.6} />\r\n        <Precompile onCompile={onReady} />\r\n      </Suspense>\r\n    </Canvas>\r\n  )\r\n}\r\n\r\nfunction Precompile({ onCompile = () => {} }) {\r\n  const { gl, scene, camera } = useThree()\r\n  useLayoutEffect(() => {\r\n    gl.compile(scene, camera)\r\n    onCompile()\r\n  }, [])\r\n  return null\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles.css'\nimport App from './App'\nimport { tw, setup } from './twind/styled'\n\nsetup({\n  theme: {\n    extend: {\n      colors: {\n        gray: {\n          '1000': '#111111',\n        },\n      },\n    },\n  },\n})\n\n// ReactDOM.createRoot(document.getElementById('root')).render(<App />)\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}