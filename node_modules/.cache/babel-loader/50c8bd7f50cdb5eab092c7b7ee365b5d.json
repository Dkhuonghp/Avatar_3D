{"ast":null,"code":"import _objectSpread from\"/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _slicedToArray from\"/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _excluded=[\"onReady\"],_excluded2=[\"onReady\"];var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12;import React,{Suspense,useLayoutEffect,useRef,useState}from'react';import{Canvas,useThree}from'react-three-fiber';import{Environment}from'@react-three/drei';import{tw}from'./twind/styled';import Avatar,{Wireframe}from'./Avatar';import{animation,css}from'twind/css';import{ResizeObserver}from'@juggle/resize-observer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fadeIn=animation('0.5s ease forwards',{from:{opacity:0},to:{opacity:1}});var fadeOut=animation('0.5s ease forwards 1s',{from:{opacity:1},to:{opacity:0}});var camera={position:[0,0,2],fov:12};var Button=tw.button(function(_ref){var primary=_ref.primary;return[primary?tw(_templateObject||(_templateObject=_taggedTemplateLiteral([\"bg-purple-700 text-white\"]))):tw(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"bg-gray-200 text-black\"]))),tw(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"font-semibold\"]))),tw(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"px-8 py-2 rounded-lg\"]))),tw(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"focus:outline-none focus:ring\"])))];});export default function App(){return/*#__PURE__*/_jsx(\"div\",{className:tw(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"h-screen grid place-items-center overflow-y-scroll\"]))),children:/*#__PURE__*/_jsx(\"div\",{className:tw(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"max-w-2xl mx-auto flex flex-col md:flex-row items-center p-8\"]))),children:/*#__PURE__*/_jsx(AvatarCanvas,{size:64})})});}var wipeIn=animation('1s forwards ease',{from:{maskPosition:'0 0'},to:{maskPosition:'0 100%'}});function AvatarCanvas(_ref2){var _ref2$size=_ref2.size,size=_ref2$size===void 0?48:_ref2$size;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var detailStyles=tw(wipeIn,css({maskImage:'linear-gradient(to bottom, transparent 0 45%, black 55% 100%)',maskSize:'100% 200%',willChange:'mask-position'}));var queueDone=function queueDone(ms){setTimeout(function(){return setState('done');},ms);};return/*#__PURE__*/_jsxs(\"div\",{className:tw(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"w-64 h-64 relative\"]))),children:[/*#__PURE__*/_jsx(\"div\",{className:tw(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"h-full w-full absolute\"]))),children:/*#__PURE__*/_jsx(PlaceholderCanvas,{className:tw(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\",\"\"])),state==='placeholder'?fadeIn:fadeOut),onReady:function onReady(){return setState('placeholder');}})}),/*#__PURE__*/_jsx(\"div\",{className:tw(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"h-full w-full absolute\"]))),children:/*#__PURE__*/_jsx(DetailCanvas,{className:tw(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\",\"\"])),state==='done'&&detailStyles),onReady:function onReady(){return queueDone(500);}})})]});}function PlaceholderCanvas(_ref3){var onReady=_ref3.onReady,props=_objectWithoutProperties(_ref3,_excluded);return/*#__PURE__*/_jsx(Canvas,_objectSpread(_objectSpread({concurrent:true,camera:camera},props),{},{resize:{polyfill:ResizeObserver},children:/*#__PURE__*/_jsx(Suspense,{fallback:null,children:/*#__PURE__*/_jsx(Wireframe,{\"position-y\":-0.6,onCompile:onReady})})}));}function DetailCanvas(_ref4){var onReady=_ref4.onReady,props=_objectWithoutProperties(_ref4,_excluded2);return/*#__PURE__*/_jsx(Canvas,_objectSpread(_objectSpread({concurrent:true,camera:camera},props),{},{resize:{polyfill:ResizeObserver},children:/*#__PURE__*/_jsxs(Suspense,{fallback:null,children:[/*#__PURE__*/_jsx(Environment,{preset:\"warehouse\"}),/*#__PURE__*/_jsx(Avatar,{\"position-y\":-0.6}),/*#__PURE__*/_jsx(Precompile,{onCompile:onReady})]})}));}function Precompile(_ref5){var _ref5$onCompile=_ref5.onCompile,onCompile=_ref5$onCompile===void 0?function(){}:_ref5$onCompile;var _useThree=useThree(),gl=_useThree.gl,scene=_useThree.scene,camera=_useThree.camera;useLayoutEffect(function(){gl.compile(scene,camera);onCompile();},[]);return null;}","map":{"version":3,"names":["React","Suspense","useLayoutEffect","useRef","useState","Canvas","useThree","Environment","tw","Avatar","Wireframe","animation","css","ResizeObserver","fadeIn","from","opacity","to","fadeOut","camera","position","fov","Button","button","primary","App","wipeIn","maskPosition","AvatarCanvas","size","state","setState","detailStyles","maskImage","maskSize","willChange","queueDone","ms","setTimeout","PlaceholderCanvas","onReady","props","polyfill","DetailCanvas","Precompile","onCompile","gl","scene","compile"],"sources":["/Users/khuong/Downloads/avatar-homepage-demo-forked/src/App.js"],"sourcesContent":["import React, { Suspense, useLayoutEffect, useRef, useState } from 'react'\r\nimport { Canvas, useThree } from 'react-three-fiber'\r\nimport { Environment } from '@react-three/drei'\r\nimport { tw } from './twind/styled'\r\nimport Avatar, { Wireframe } from './Avatar'\r\nimport { animation, css } from 'twind/css'\r\nimport { ResizeObserver } from '@juggle/resize-observer'\r\n\r\nconst fadeIn = animation('0.5s ease forwards', {\r\n  from: { opacity: 0 },\r\n  to: { opacity: 1 },\r\n})\r\n\r\nconst fadeOut = animation('0.5s ease forwards 1s', {\r\n  from: { opacity: 1 },\r\n  to: { opacity: 0 },\r\n})\r\n\r\nconst camera = { position: [0, 0, 2], fov: 12 }\r\n\r\nconst Button = tw.button(({ primary }) => [\r\n  primary ? tw`bg-purple-700 text-white` : tw`bg-gray-200 text-black`,\r\n  tw`font-semibold`,\r\n  tw`px-8 py-2 rounded-lg`,\r\n  tw`focus:outline-none focus:ring`,\r\n])\r\n\r\nexport default function App() {\r\n  return (\r\n    <div className={tw`h-screen grid place-items-center overflow-y-scroll`}>\r\n      <div className={tw`max-w-2xl mx-auto flex flex-col md:flex-row items-center p-8`}>\r\n        <AvatarCanvas size={64} />\r\n        {/* <div className={tw`flex-grow text-white flex flex-col justify-center space-y-4`}>\r\n          <h1 className={tw`text-5xl font-bold`}>\r\n            Hi, I'm <span>Jack.</span>\r\n          </h1>\r\n          <p className={tw``}>I'm a UX Engineer specializing in XR and the web.</p>\r\n          <div className={tw`flex space-x-4`}>\r\n            <Button primary=\"true\">Projects</Button>\r\n            <Button>About Me</Button>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst wipeIn = animation('1s forwards ease', {\r\n  from: { maskPosition: '0 0' },\r\n  to: { maskPosition: '0 100%' },\r\n})\r\n\r\nfunction AvatarCanvas({ size = 48 }) {\r\n  const [state, setState] = useState(null)\r\n  const detailStyles = tw(\r\n    wipeIn,\r\n    css({\r\n      maskImage: 'linear-gradient(to bottom, transparent 0 45%, black 55% 100%)',\r\n      maskSize: '100% 200%',\r\n      willChange: 'mask-position',\r\n    })\r\n  )\r\n  const queueDone = (ms) => {\r\n    setTimeout(() => setState('done'), ms)\r\n  }\r\n  return (\r\n    <div className={tw`w-64 h-64 relative`}>\r\n      <div className={tw`h-full w-full absolute`}>\r\n        <PlaceholderCanvas className={tw`${state === 'placeholder' ? fadeIn : fadeOut}`} onReady={() => setState('placeholder')} />\r\n      </div>\r\n      <div className={tw`h-full w-full absolute`}>\r\n        <DetailCanvas className={tw`${state === 'done' && detailStyles}`} onReady={() => queueDone(500)} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PlaceholderCanvas({ onReady, ...props }) {\r\n  return (\r\n    <Canvas concurrent camera={camera} {...props} resize={{ polyfill: ResizeObserver }}>\r\n      <Suspense fallback={null}>\r\n        <Wireframe position-y={-0.6} onCompile={onReady} />\r\n      </Suspense>\r\n    </Canvas>\r\n  )\r\n}\r\n\r\nfunction DetailCanvas({ onReady, ...props }) {\r\n  return (\r\n    <Canvas concurrent camera={camera} {...props} resize={{ polyfill: ResizeObserver }}>\r\n      <Suspense fallback={null}>\r\n        <Environment preset=\"warehouse\" />\r\n        <Avatar position-y={-0.6} />\r\n        <Precompile onCompile={onReady} />\r\n      </Suspense>\r\n    </Canvas>\r\n  )\r\n}\r\n\r\nfunction Precompile({ onCompile = () => {} }) {\r\n  const { gl, scene, camera } = useThree()\r\n  useLayoutEffect(() => {\r\n    gl.compile(scene, camera)\r\n    onCompile()\r\n  }, [])\r\n  return null\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}