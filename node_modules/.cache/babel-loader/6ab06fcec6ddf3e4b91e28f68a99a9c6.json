{"ast":null,"code":"import _objectWithoutProperties from\"/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var _excluded=[\"onCompile\"];import{Html,useGLTF}from'@react-three/drei';import React,{useLayoutEffect,useMemo}from'react';import{useThree}from'react-three-fiber';import*as THREE from'three';import{useMouse3D}from'./Mouse';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Avatar(props){var _useGLTF=useGLTF('avatar.glb'),scene=_useGLTF.scene,nodes=_useGLTF.nodes;var _useMemo=useMemo(function(){return{plane:new THREE.Plane(new THREE.Vector3(0,0,1),-0.5)};},[]),plane=_useMemo.plane;useMouse3D(plane,function(mouse3D){nodes.Head.lookAt(mouse3D);});return/*#__PURE__*/_jsx(\"group\",_objectSpread(_objectSpread({},props),{},{children:/*#__PURE__*/_jsx(\"primitive\",{object:scene})}));}export function Wireframe(_ref){var _ref$onCompile=_ref.onCompile,onCompile=_ref$onCompile===void 0?function(){}:_ref$onCompile,props=_objectWithoutProperties(_ref,_excluded);var _useGLTF2=useGLTF('loading.glb'),nodes=_useGLTF2.nodes;var _useThree=useThree(),gl=_useThree.gl,scene=_useThree.scene,camera=_useThree.camera;useLayoutEffect(function(){gl.compile(scene,camera);onCompile();},[]);return/*#__PURE__*/_jsx(\"group\",_objectSpread({},props));}export function Loading(){return/*#__PURE__*/_jsx(Html,{children:\"loading...\"});}","map":{"version":3,"names":["Html","useGLTF","React","useLayoutEffect","useMemo","useThree","THREE","useMouse3D","Avatar","props","scene","nodes","plane","Plane","Vector3","mouse3D","Head","lookAt","Wireframe","onCompile","gl","camera","compile","Loading"],"sources":["/Users/khuong/Downloads/avatar-homepage-demo-forked/src/Avatar.js"],"sourcesContent":["import { Html, useGLTF } from '@react-three/drei'\r\nimport React, { useLayoutEffect, useMemo } from 'react'\r\nimport { useThree } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nimport { useMouse3D } from './Mouse'\r\n\r\nexport default function Avatar(props) {\r\n  const { scene, nodes } = useGLTF('avatar.glb')\r\n  const { plane } = useMemo(\r\n    () => ({\r\n      plane: new THREE.Plane(new THREE.Vector3(0, 0, 1), -0.5),\r\n    }),\r\n    []\r\n  )\r\n  useMouse3D(plane, (mouse3D) => {\r\n    nodes.Head.lookAt(mouse3D)\r\n  })\r\n  return (\r\n    <group {...props}>\r\n      <primitive object={scene} />\r\n    </group>\r\n  )\r\n}\r\n\r\nexport function Wireframe({ onCompile = () => {}, ...props }) {\r\n  const { nodes } = useGLTF('loading.glb')\r\n  const { gl, scene, camera } = useThree()\r\n  useLayoutEffect(() => {\r\n    gl.compile(scene, camera)\r\n    onCompile()\r\n  }, [])\r\n  return (\r\n    <group {...props}>\r\n      {/* <mesh geometry={nodes.Loading.geometry}>\r\n        <meshBasicMaterial color=\"gray\" wireframe />\r\n      </mesh> */}\r\n    </group>\r\n  )\r\n}\r\n\r\nexport function Loading() {\r\n  return <Html>loading...</Html>\r\n}\r\n"],"mappings":"iUAAA,OAASA,IAAT,CAAeC,OAAf,KAA8B,mBAA9B,CACA,MAAOC,MAAP,EAAgBC,eAAhB,CAAiCC,OAAjC,KAAgD,OAAhD,CACA,OAASC,QAAT,KAAyB,mBAAzB,CACA,MAAO,GAAKC,MAAZ,KAAuB,OAAvB,CAEA,OAASC,UAAT,KAA2B,SAA3B,C,2CAEA,cAAe,SAASC,OAAT,CAAgBC,KAAhB,CAAuB,CACpC,aAAyBR,OAAO,CAAC,YAAD,CAAhC,CAAQS,KAAR,UAAQA,KAAR,CAAeC,KAAf,UAAeA,KAAf,CACA,aAAkBP,OAAO,CACvB,iBAAO,CACLQ,KAAK,CAAE,GAAIN,MAAK,CAACO,KAAV,CAAgB,GAAIP,MAAK,CAACQ,OAAV,CAAkB,CAAlB,CAAqB,CAArB,CAAwB,CAAxB,CAAhB,CAA4C,CAAC,GAA7C,CADF,CAAP,EADuB,CAIvB,EAJuB,CAAzB,CAAQF,KAAR,UAAQA,KAAR,CAMAL,UAAU,CAACK,KAAD,CAAQ,SAACG,OAAD,CAAa,CAC7BJ,KAAK,CAACK,IAAN,CAAWC,MAAX,CAAkBF,OAAlB,EACD,CAFS,CAAV,CAGA,mBACE,4CAAWN,KAAX,4BACE,kBAAW,MAAM,CAAEC,KAAnB,EADF,GADF,CAKD,CAED,MAAO,SAASQ,UAAT,MAAuD,yBAAlCC,SAAkC,CAAlCA,SAAkC,yBAAtB,UAAM,CAAE,CAAc,gBAATV,KAAS,0CAC5D,cAAkBR,OAAO,CAAC,aAAD,CAAzB,CAAQU,KAAR,WAAQA,KAAR,CACA,cAA8BN,QAAQ,EAAtC,CAAQe,EAAR,WAAQA,EAAR,CAAYV,KAAZ,WAAYA,KAAZ,CAAmBW,MAAnB,WAAmBA,MAAnB,CACAlB,eAAe,CAAC,UAAM,CACpBiB,EAAE,CAACE,OAAH,CAAWZ,KAAX,CAAkBW,MAAlB,EACAF,SAAS,GACV,CAHc,CAGZ,EAHY,CAAf,CAIA,mBACE,8BAAWV,KAAX,EADF,CAOD,CAED,MAAO,SAASc,QAAT,EAAmB,CACxB,mBAAO,KAAC,IAAD,yBAAP,CACD"},"metadata":{},"sourceType":"module"}