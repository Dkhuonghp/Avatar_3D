{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useMemo } from 'react';\nimport { useThree } from 'react-three-fiber';\nimport * as THREE from 'three';\nexport var useMouse3D = function useMouse3D(plane) {\n  _s();\n\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n  var _useThree = useThree(),\n      gl = _useThree.gl,\n      camera = _useThree.camera;\n\n  var bounds = gl.domElement.getBoundingClientRect();\n\n  var _useMemo = useMemo(function () {\n    var position = new THREE.Vector3();\n    var mouse = new THREE.Vector2(); // We need a new raycaster that works beyond the canvas\n\n    var raycaster = new THREE.Raycaster();\n    return {\n      position: position,\n      mouse: mouse,\n      raycaster: raycaster\n    };\n  }, []),\n      position = _useMemo.position,\n      mouse = _useMemo.mouse,\n      raycaster = _useMemo.raycaster;\n\n  useEffect(function () {\n    var onMouseMove = function onMouseMove(e) {\n      mouse.x = (e.clientX - bounds.x) / bounds.width * 2 - 1;\n      mouse.y = (e.clientY - bounds.y) / bounds.height * -2 + 1;\n      raycaster.setFromCamera(mouse, camera);\n      raycaster.ray.intersectPlane(plane, position);\n      callback(position);\n    };\n\n    var listener = window.addEventListener('mousemove', onMouseMove);\n    return function () {\n      return window.removeEventListener('mousemove', listener);\n    };\n  }, [bounds]);\n  return position;\n};\n\n_s(useMouse3D, \"SORA6FjU1gzOgWdjeEpofhSXOsk=\", false, function () {\n  return [useThree];\n});","map":{"version":3,"names":["useEffect","useMemo","useThree","THREE","useMouse3D","plane","callback","gl","camera","bounds","domElement","getBoundingClientRect","position","Vector3","mouse","Vector2","raycaster","Raycaster","onMouseMove","e","x","clientX","width","y","clientY","height","setFromCamera","ray","intersectPlane","listener","window","addEventListener","removeEventListener"],"sources":["/Users/khuong/Downloads/avatar-homepage-demo-forked/src/Mouse.js"],"sourcesContent":["import { useEffect, useMemo } from 'react'\r\nimport { useThree } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nexport const useMouse3D = (plane, callback = () => {}) => {\r\n  const { gl, camera } = useThree()\r\n  const bounds = gl.domElement.getBoundingClientRect()\r\n  const { position, mouse, raycaster } = useMemo(() => {\r\n    const position = new THREE.Vector3()\r\n    const mouse = new THREE.Vector2()\r\n    // We need a new raycaster that works beyond the canvas\r\n    const raycaster = new THREE.Raycaster()\r\n    return { position, mouse, raycaster }\r\n  }, [])\r\n  useEffect(() => {\r\n    const onMouseMove = (e) => {\r\n      mouse.x = ((e.clientX - bounds.x) / bounds.width) * 2 - 1\r\n      mouse.y = ((e.clientY - bounds.y) / bounds.height) * -2 + 1\r\n      raycaster.setFromCamera(mouse, camera)\r\n      raycaster.ray.intersectPlane(plane, position)\r\n      callback(position)\r\n    }\r\n    const listener = window.addEventListener('mousemove', onMouseMove)\r\n    return () => window.removeEventListener('mousemove', listener)\r\n  }, [bounds])\r\n  return position\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,OAApB,QAAmC,OAAnC;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAgC;EAAA;;EAAA,IAAxBC,QAAwB,uEAAb,YAAM,CAAE,CAAK;;EACxD,gBAAuBJ,QAAQ,EAA/B;EAAA,IAAQK,EAAR,aAAQA,EAAR;EAAA,IAAYC,MAAZ,aAAYA,MAAZ;;EACA,IAAMC,MAAM,GAAGF,EAAE,CAACG,UAAH,CAAcC,qBAAd,EAAf;;EACA,eAAuCV,OAAO,CAAC,YAAM;IACnD,IAAMW,QAAQ,GAAG,IAAIT,KAAK,CAACU,OAAV,EAAjB;IACA,IAAMC,KAAK,GAAG,IAAIX,KAAK,CAACY,OAAV,EAAd,CAFmD,CAGnD;;IACA,IAAMC,SAAS,GAAG,IAAIb,KAAK,CAACc,SAAV,EAAlB;IACA,OAAO;MAAEL,QAAQ,EAARA,QAAF;MAAYE,KAAK,EAALA,KAAZ;MAAmBE,SAAS,EAATA;IAAnB,CAAP;EACD,CAN6C,EAM3C,EAN2C,CAA9C;EAAA,IAAQJ,QAAR,YAAQA,QAAR;EAAA,IAAkBE,KAAlB,YAAkBA,KAAlB;EAAA,IAAyBE,SAAzB,YAAyBA,SAAzB;;EAOAhB,SAAS,CAAC,YAAM;IACd,IAAMkB,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAO;MACzBL,KAAK,CAACM,CAAN,GAAW,CAACD,CAAC,CAACE,OAAF,GAAYZ,MAAM,CAACW,CAApB,IAAyBX,MAAM,CAACa,KAAjC,GAA0C,CAA1C,GAA8C,CAAxD;MACAR,KAAK,CAACS,CAAN,GAAW,CAACJ,CAAC,CAACK,OAAF,GAAYf,MAAM,CAACc,CAApB,IAAyBd,MAAM,CAACgB,MAAjC,GAA2C,CAAC,CAA5C,GAAgD,CAA1D;MACAT,SAAS,CAACU,aAAV,CAAwBZ,KAAxB,EAA+BN,MAA/B;MACAQ,SAAS,CAACW,GAAV,CAAcC,cAAd,CAA6BvB,KAA7B,EAAoCO,QAApC;MACAN,QAAQ,CAACM,QAAD,CAAR;IACD,CAND;;IAOA,IAAMiB,QAAQ,GAAGC,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqCb,WAArC,CAAjB;IACA,OAAO;MAAA,OAAMY,MAAM,CAACE,mBAAP,CAA2B,WAA3B,EAAwCH,QAAxC,CAAN;IAAA,CAAP;EACD,CAVQ,EAUN,CAACpB,MAAD,CAVM,CAAT;EAWA,OAAOG,QAAP;AACD,CAtBM;;GAAMR,U;UACYF,Q"},"metadata":{},"sourceType":"module"}