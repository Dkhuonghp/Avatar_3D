{"ast":null,"code":"import { EventDispatcher, Quaternion, Vector3 } from \"../../../build/three.module.js\";\n\nvar FlyControls = function FlyControls(object, domElement) {\n  if (domElement === undefined) {\n    console.warn('THREE.FlyControls: The second parameter \"domElement\" is now mandatory.');\n    domElement = document;\n  }\n\n  this.object = object;\n  this.domElement = domElement;\n  if (domElement) this.domElement.setAttribute('tabindex', -1); // API\n\n  this.movementSpeed = 1.0;\n  this.rollSpeed = 0.005;\n  this.dragToLook = false;\n  this.autoForward = false; // disable default target object behavior\n  // internals\n\n  var scope = this;\n  var changeEvent = {\n    type: \"change\"\n  };\n  var EPS = 0.000001;\n  this.tmpQuaternion = new Quaternion();\n  this.mouseStatus = 0;\n  this.moveState = {\n    up: 0,\n    down: 0,\n    left: 0,\n    right: 0,\n    forward: 0,\n    back: 0,\n    pitchUp: 0,\n    pitchDown: 0,\n    yawLeft: 0,\n    yawRight: 0,\n    rollLeft: 0,\n    rollRight: 0\n  };\n  this.moveVector = new Vector3(0, 0, 0);\n  this.rotationVector = new Vector3(0, 0, 0);\n\n  this.keydown = function (event) {\n    if (event.altKey) {\n      return;\n    } //event.preventDefault();\n\n\n    switch (event.keyCode) {\n      case 16:\n        /* shift */\n        this.movementSpeedMultiplier = .1;\n        break;\n\n      case 87:\n        /*W*/\n        this.moveState.forward = 1;\n        break;\n\n      case 83:\n        /*S*/\n        this.moveState.back = 1;\n        break;\n\n      case 65:\n        /*A*/\n        this.moveState.left = 1;\n        break;\n\n      case 68:\n        /*D*/\n        this.moveState.right = 1;\n        break;\n\n      case 82:\n        /*R*/\n        this.moveState.up = 1;\n        break;\n\n      case 70:\n        /*F*/\n        this.moveState.down = 1;\n        break;\n\n      case 38:\n        /*up*/\n        this.moveState.pitchUp = 1;\n        break;\n\n      case 40:\n        /*down*/\n        this.moveState.pitchDown = 1;\n        break;\n\n      case 37:\n        /*left*/\n        this.moveState.yawLeft = 1;\n        break;\n\n      case 39:\n        /*right*/\n        this.moveState.yawRight = 1;\n        break;\n\n      case 81:\n        /*Q*/\n        this.moveState.rollLeft = 1;\n        break;\n\n      case 69:\n        /*E*/\n        this.moveState.rollRight = 1;\n        break;\n    }\n\n    this.updateMovementVector();\n    this.updateRotationVector();\n  };\n\n  this.keyup = function (event) {\n    switch (event.keyCode) {\n      case 16:\n        /* shift */\n        this.movementSpeedMultiplier = 1;\n        break;\n\n      case 87:\n        /*W*/\n        this.moveState.forward = 0;\n        break;\n\n      case 83:\n        /*S*/\n        this.moveState.back = 0;\n        break;\n\n      case 65:\n        /*A*/\n        this.moveState.left = 0;\n        break;\n\n      case 68:\n        /*D*/\n        this.moveState.right = 0;\n        break;\n\n      case 82:\n        /*R*/\n        this.moveState.up = 0;\n        break;\n\n      case 70:\n        /*F*/\n        this.moveState.down = 0;\n        break;\n\n      case 38:\n        /*up*/\n        this.moveState.pitchUp = 0;\n        break;\n\n      case 40:\n        /*down*/\n        this.moveState.pitchDown = 0;\n        break;\n\n      case 37:\n        /*left*/\n        this.moveState.yawLeft = 0;\n        break;\n\n      case 39:\n        /*right*/\n        this.moveState.yawRight = 0;\n        break;\n\n      case 81:\n        /*Q*/\n        this.moveState.rollLeft = 0;\n        break;\n\n      case 69:\n        /*E*/\n        this.moveState.rollRight = 0;\n        break;\n    }\n\n    this.updateMovementVector();\n    this.updateRotationVector();\n  };\n\n  this.mousedown = function (event) {\n    if (this.domElement !== document) {\n      this.domElement.focus();\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.dragToLook) {\n      this.mouseStatus++;\n    } else {\n      switch (event.button) {\n        case 0:\n          this.moveState.forward = 1;\n          break;\n\n        case 2:\n          this.moveState.back = 1;\n          break;\n      }\n\n      this.updateMovementVector();\n    }\n  };\n\n  this.mousemove = function (event) {\n    if (!this.dragToLook || this.mouseStatus > 0) {\n      var container = this.getContainerDimensions();\n      var halfWidth = container.size[0] / 2;\n      var halfHeight = container.size[1] / 2;\n      this.moveState.yawLeft = -(event.pageX - container.offset[0] - halfWidth) / halfWidth;\n      this.moveState.pitchDown = (event.pageY - container.offset[1] - halfHeight) / halfHeight;\n      this.updateRotationVector();\n    }\n  };\n\n  this.mouseup = function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.dragToLook) {\n      this.mouseStatus--;\n      this.moveState.yawLeft = this.moveState.pitchDown = 0;\n    } else {\n      switch (event.button) {\n        case 0:\n          this.moveState.forward = 0;\n          break;\n\n        case 2:\n          this.moveState.back = 0;\n          break;\n      }\n\n      this.updateMovementVector();\n    }\n\n    this.updateRotationVector();\n  };\n\n  this.update = function () {\n    var lastQuaternion = new Quaternion();\n    var lastPosition = new Vector3();\n    return function (delta) {\n      var moveMult = delta * scope.movementSpeed;\n      var rotMult = delta * scope.rollSpeed;\n      scope.object.translateX(scope.moveVector.x * moveMult);\n      scope.object.translateY(scope.moveVector.y * moveMult);\n      scope.object.translateZ(scope.moveVector.z * moveMult);\n      scope.tmpQuaternion.set(scope.rotationVector.x * rotMult, scope.rotationVector.y * rotMult, scope.rotationVector.z * rotMult, 1).normalize();\n      scope.object.quaternion.multiply(scope.tmpQuaternion);\n\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastQuaternion.copy(scope.object.quaternion);\n        lastPosition.copy(scope.object.position);\n      }\n    };\n  }();\n\n  this.updateMovementVector = function () {\n    var forward = this.moveState.forward || this.autoForward && !this.moveState.back ? 1 : 0;\n    this.moveVector.x = -this.moveState.left + this.moveState.right;\n    this.moveVector.y = -this.moveState.down + this.moveState.up;\n    this.moveVector.z = -forward + this.moveState.back; //console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\n  };\n\n  this.updateRotationVector = function () {\n    this.rotationVector.x = -this.moveState.pitchDown + this.moveState.pitchUp;\n    this.rotationVector.y = -this.moveState.yawRight + this.moveState.yawLeft;\n    this.rotationVector.z = -this.moveState.rollRight + this.moveState.rollLeft; //console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\n  };\n\n  this.getContainerDimensions = function () {\n    if (this.domElement != document) {\n      return {\n        size: [this.domElement.offsetWidth, this.domElement.offsetHeight],\n        offset: [this.domElement.offsetLeft, this.domElement.offsetTop]\n      };\n    } else {\n      return {\n        size: [window.innerWidth, window.innerHeight],\n        offset: [0, 0]\n      };\n    }\n  };\n\n  function bind(scope, fn) {\n    return function () {\n      fn.apply(scope, arguments);\n    };\n  }\n\n  function contextmenu(event) {\n    event.preventDefault();\n  }\n\n  this.dispose = function () {\n    this.domElement.removeEventListener('contextmenu', contextmenu, false);\n    this.domElement.removeEventListener('mousedown', _mousedown, false);\n    this.domElement.removeEventListener('mousemove', _mousemove, false);\n    this.domElement.removeEventListener('mouseup', _mouseup, false);\n    window.removeEventListener('keydown', _keydown, false);\n    window.removeEventListener('keyup', _keyup, false);\n  };\n\n  var _mousemove = bind(this, this.mousemove);\n\n  var _mousedown = bind(this, this.mousedown);\n\n  var _mouseup = bind(this, this.mouseup);\n\n  var _keydown = bind(this, this.keydown);\n\n  var _keyup = bind(this, this.keyup);\n\n  this.domElement.addEventListener('contextmenu', contextmenu, false);\n  this.domElement.addEventListener('mousemove', _mousemove, false);\n  this.domElement.addEventListener('mousedown', _mousedown, false);\n  this.domElement.addEventListener('mouseup', _mouseup, false);\n  window.addEventListener('keydown', _keydown, false);\n  window.addEventListener('keyup', _keyup, false);\n  this.updateMovementVector();\n  this.updateRotationVector();\n};\n\nFlyControls.prototype = Object.create(EventDispatcher.prototype);\nFlyControls.prototype.constructor = FlyControls;\nexport { FlyControls };","map":{"version":3,"names":["EventDispatcher","Quaternion","Vector3","FlyControls","object","domElement","undefined","console","warn","document","setAttribute","movementSpeed","rollSpeed","dragToLook","autoForward","scope","changeEvent","type","EPS","tmpQuaternion","mouseStatus","moveState","up","down","left","right","forward","back","pitchUp","pitchDown","yawLeft","yawRight","rollLeft","rollRight","moveVector","rotationVector","keydown","event","altKey","keyCode","movementSpeedMultiplier","updateMovementVector","updateRotationVector","keyup","mousedown","focus","preventDefault","stopPropagation","button","mousemove","container","getContainerDimensions","halfWidth","size","halfHeight","pageX","offset","pageY","mouseup","update","lastQuaternion","lastPosition","delta","moveMult","rotMult","translateX","x","translateY","y","translateZ","z","set","normalize","quaternion","multiply","distanceToSquared","position","dot","dispatchEvent","copy","offsetWidth","offsetHeight","offsetLeft","offsetTop","window","innerWidth","innerHeight","bind","fn","apply","arguments","contextmenu","dispose","removeEventListener","_mousedown","_mousemove","_mouseup","_keydown","_keyup","addEventListener","prototype","Object","create","constructor"],"sources":["/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/three/examples/jsm/controls/FlyControls.js"],"sourcesContent":["import {\n\tEventDispatcher,\n\tQuaternion,\n\tVector3\n} from \"../../../build/three.module.js\";\n\nvar FlyControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) {\n\n\t\tconsole.warn( 'THREE.FlyControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tdomElement = document;\n\n\t}\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\tif ( domElement ) this.domElement.setAttribute( 'tabindex', - 1 );\n\n\t// API\n\n\tthis.movementSpeed = 1.0;\n\tthis.rollSpeed = 0.005;\n\n\tthis.dragToLook = false;\n\tthis.autoForward = false;\n\n\t// disable default target object behavior\n\n\t// internals\n\n\tvar scope = this;\n\tvar changeEvent = { type: \"change\" };\n\tvar EPS = 0.000001;\n\n\tthis.tmpQuaternion = new Quaternion();\n\n\tthis.mouseStatus = 0;\n\n\tthis.moveState = { up: 0, down: 0, left: 0, right: 0, forward: 0, back: 0, pitchUp: 0, pitchDown: 0, yawLeft: 0, yawRight: 0, rollLeft: 0, rollRight: 0 };\n\tthis.moveVector = new Vector3( 0, 0, 0 );\n\tthis.rotationVector = new Vector3( 0, 0, 0 );\n\n\tthis.keydown = function ( event ) {\n\n\t\tif ( event.altKey ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//event.preventDefault();\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase 16: /* shift */ this.movementSpeedMultiplier = .1; break;\n\n\t\t\tcase 87: /*W*/ this.moveState.forward = 1; break;\n\t\t\tcase 83: /*S*/ this.moveState.back = 1; break;\n\n\t\t\tcase 65: /*A*/ this.moveState.left = 1; break;\n\t\t\tcase 68: /*D*/ this.moveState.right = 1; break;\n\n\t\t\tcase 82: /*R*/ this.moveState.up = 1; break;\n\t\t\tcase 70: /*F*/ this.moveState.down = 1; break;\n\n\t\t\tcase 38: /*up*/ this.moveState.pitchUp = 1; break;\n\t\t\tcase 40: /*down*/ this.moveState.pitchDown = 1; break;\n\n\t\t\tcase 37: /*left*/ this.moveState.yawLeft = 1; break;\n\t\t\tcase 39: /*right*/ this.moveState.yawRight = 1; break;\n\n\t\t\tcase 81: /*Q*/ this.moveState.rollLeft = 1; break;\n\t\t\tcase 69: /*E*/ this.moveState.rollRight = 1; break;\n\n\t\t}\n\n\t\tthis.updateMovementVector();\n\t\tthis.updateRotationVector();\n\n\t};\n\n\tthis.keyup = function ( event ) {\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase 16: /* shift */ this.movementSpeedMultiplier = 1; break;\n\n\t\t\tcase 87: /*W*/ this.moveState.forward = 0; break;\n\t\t\tcase 83: /*S*/ this.moveState.back = 0; break;\n\n\t\t\tcase 65: /*A*/ this.moveState.left = 0; break;\n\t\t\tcase 68: /*D*/ this.moveState.right = 0; break;\n\n\t\t\tcase 82: /*R*/ this.moveState.up = 0; break;\n\t\t\tcase 70: /*F*/ this.moveState.down = 0; break;\n\n\t\t\tcase 38: /*up*/ this.moveState.pitchUp = 0; break;\n\t\t\tcase 40: /*down*/ this.moveState.pitchDown = 0; break;\n\n\t\t\tcase 37: /*left*/ this.moveState.yawLeft = 0; break;\n\t\t\tcase 39: /*right*/ this.moveState.yawRight = 0; break;\n\n\t\t\tcase 81: /*Q*/ this.moveState.rollLeft = 0; break;\n\t\t\tcase 69: /*E*/ this.moveState.rollRight = 0; break;\n\n\t\t}\n\n\t\tthis.updateMovementVector();\n\t\tthis.updateRotationVector();\n\n\t};\n\n\tthis.mousedown = function ( event ) {\n\n\t\tif ( this.domElement !== document ) {\n\n\t\t\tthis.domElement.focus();\n\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( this.dragToLook ) {\n\n\t\t\tthis.mouseStatus ++;\n\n\t\t} else {\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0: this.moveState.forward = 1; break;\n\t\t\t\tcase 2: this.moveState.back = 1; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\n\t\t}\n\n\t};\n\n\tthis.mousemove = function ( event ) {\n\n\t\tif ( ! this.dragToLook || this.mouseStatus > 0 ) {\n\n\t\t\tvar container = this.getContainerDimensions();\n\t\t\tvar halfWidth = container.size[ 0 ] / 2;\n\t\t\tvar halfHeight = container.size[ 1 ] / 2;\n\n\t\t\tthis.moveState.yawLeft = - ( ( event.pageX - container.offset[ 0 ] ) - halfWidth ) / halfWidth;\n\t\t\tthis.moveState.pitchDown = ( ( event.pageY - container.offset[ 1 ] ) - halfHeight ) / halfHeight;\n\n\t\t\tthis.updateRotationVector();\n\n\t\t}\n\n\t};\n\n\tthis.mouseup = function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( this.dragToLook ) {\n\n\t\t\tthis.mouseStatus --;\n\n\t\t\tthis.moveState.yawLeft = this.moveState.pitchDown = 0;\n\n\t\t} else {\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0: this.moveState.forward = 0; break;\n\t\t\t\tcase 2: this.moveState.back = 0; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\n\t\t}\n\n\t\tthis.updateRotationVector();\n\n\t};\n\n\tthis.update = function () {\n\n\t\tvar lastQuaternion = new Quaternion();\n\t\tvar lastPosition = new Vector3();\n\n\t\treturn function ( delta ) {\n\n\t\t\tvar moveMult = delta * scope.movementSpeed;\n\t\t\tvar rotMult = delta * scope.rollSpeed;\n\n\t\t\tscope.object.translateX( scope.moveVector.x * moveMult );\n\t\t\tscope.object.translateY( scope.moveVector.y * moveMult );\n\t\t\tscope.object.translateZ( scope.moveVector.z * moveMult );\n\n\t\t\tscope.tmpQuaternion.set( scope.rotationVector.x * rotMult, scope.rotationVector.y * rotMult, scope.rotationVector.z * rotMult, 1 ).normalize();\n\t\t\tscope.object.quaternion.multiply( scope.tmpQuaternion );\n\n\t\t\tif (\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS\n\t\t\t) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tlastPosition.copy( scope.object.position );\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tthis.updateMovementVector = function () {\n\n\t\tvar forward = ( this.moveState.forward || ( this.autoForward && ! this.moveState.back ) ) ? 1 : 0;\n\n\t\tthis.moveVector.x = ( - this.moveState.left + this.moveState.right );\n\t\tthis.moveVector.y = ( - this.moveState.down + this.moveState.up );\n\t\tthis.moveVector.z = ( - forward + this.moveState.back );\n\n\t\t//console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\n\n\t};\n\n\tthis.updateRotationVector = function () {\n\n\t\tthis.rotationVector.x = ( - this.moveState.pitchDown + this.moveState.pitchUp );\n\t\tthis.rotationVector.y = ( - this.moveState.yawRight + this.moveState.yawLeft );\n\t\tthis.rotationVector.z = ( - this.moveState.rollRight + this.moveState.rollLeft );\n\n\t\t//console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\n\n\t};\n\n\tthis.getContainerDimensions = function () {\n\n\t\tif ( this.domElement != document ) {\n\n\t\t\treturn {\n\t\t\t\tsize: [ this.domElement.offsetWidth, this.domElement.offsetHeight ],\n\t\t\t\toffset: [ this.domElement.offsetLeft, this.domElement.offsetTop ]\n\t\t\t};\n\n\t\t} else {\n\n\t\t\treturn {\n\t\t\t\tsize: [ window.innerWidth, window.innerHeight ],\n\t\t\t\toffset: [ 0, 0 ]\n\t\t\t};\n\n\t\t}\n\n\t};\n\n\tfunction bind( scope, fn ) {\n\n\t\treturn function () {\n\n\t\t\tfn.apply( scope, arguments );\n\n\t\t};\n\n\t}\n\n\tfunction contextmenu( event ) {\n\n\t\tevent.preventDefault();\n\n\t}\n\n\tthis.dispose = function () {\n\n\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n\t\tthis.domElement.removeEventListener( 'mousedown', _mousedown, false );\n\t\tthis.domElement.removeEventListener( 'mousemove', _mousemove, false );\n\t\tthis.domElement.removeEventListener( 'mouseup', _mouseup, false );\n\n\t\twindow.removeEventListener( 'keydown', _keydown, false );\n\t\twindow.removeEventListener( 'keyup', _keyup, false );\n\n\t};\n\n\tvar _mousemove = bind( this, this.mousemove );\n\tvar _mousedown = bind( this, this.mousedown );\n\tvar _mouseup = bind( this, this.mouseup );\n\tvar _keydown = bind( this, this.keydown );\n\tvar _keyup = bind( this, this.keyup );\n\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\n\n\tthis.domElement.addEventListener( 'mousemove', _mousemove, false );\n\tthis.domElement.addEventListener( 'mousedown', _mousedown, false );\n\tthis.domElement.addEventListener( 'mouseup', _mouseup, false );\n\n\twindow.addEventListener( 'keydown', _keydown, false );\n\twindow.addEventListener( 'keyup', _keyup, false );\n\n\tthis.updateMovementVector();\n\tthis.updateRotationVector();\n\n};\n\nFlyControls.prototype = Object.create( EventDispatcher.prototype );\nFlyControls.prototype.constructor = FlyControls;\n\nexport { FlyControls };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}