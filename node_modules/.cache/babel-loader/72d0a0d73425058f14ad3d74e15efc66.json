{"ast":null,"code":"import { Pass } from \"../postprocessing/Pass.js\";\n\nvar RenderPass = function RenderPass(scene, camera, overrideMaterial, clearColor, clearAlpha) {\n  Pass.call(this);\n  this.scene = scene;\n  this.camera = camera;\n  this.overrideMaterial = overrideMaterial;\n  this.clearColor = clearColor;\n  this.clearAlpha = clearAlpha !== undefined ? clearAlpha : 0;\n  this.clear = true;\n  this.clearDepth = false;\n  this.needsSwap = false;\n};\n\nRenderPass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: RenderPass,\n  render: function render(renderer, writeBuffer, readBuffer\n  /*, deltaTime, maskActive */\n  ) {\n    var oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    var oldClearColor, oldClearAlpha, oldOverrideMaterial;\n\n    if (this.overrideMaterial !== undefined) {\n      oldOverrideMaterial = this.scene.overrideMaterial;\n      this.scene.overrideMaterial = this.overrideMaterial;\n    }\n\n    if (this.clearColor) {\n      oldClearColor = renderer.getClearColor().getHex();\n      oldClearAlpha = renderer.getClearAlpha();\n      renderer.setClearColor(this.clearColor, this.clearAlpha);\n    }\n\n    if (this.clearDepth) {\n      renderer.clearDepth();\n    }\n\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer); // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\n    if (this.clear) renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n    renderer.render(this.scene, this.camera);\n\n    if (this.clearColor) {\n      renderer.setClearColor(oldClearColor, oldClearAlpha);\n    }\n\n    if (this.overrideMaterial !== undefined) {\n      this.scene.overrideMaterial = oldOverrideMaterial;\n    }\n\n    renderer.autoClear = oldAutoClear;\n  }\n});\nexport { RenderPass };","map":{"version":3,"names":["Pass","RenderPass","scene","camera","overrideMaterial","clearColor","clearAlpha","call","undefined","clear","clearDepth","needsSwap","prototype","Object","assign","create","constructor","render","renderer","writeBuffer","readBuffer","oldAutoClear","autoClear","oldClearColor","oldClearAlpha","oldOverrideMaterial","getClearColor","getHex","getClearAlpha","setClearColor","setRenderTarget","renderToScreen","autoClearColor","autoClearDepth","autoClearStencil"],"sources":["/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/three/examples/jsm/postprocessing/RenderPass.js"],"sourcesContent":["import { Pass } from \"../postprocessing/Pass.js\";\n\nvar RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\tPass.call( this );\n\n\tthis.scene = scene;\n\tthis.camera = camera;\n\n\tthis.overrideMaterial = overrideMaterial;\n\n\tthis.clearColor = clearColor;\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\n\n\tthis.clear = true;\n\tthis.clearDepth = false;\n\tthis.needsSwap = false;\n\n};\n\nRenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\n\n\tconstructor: RenderPass,\n\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tvar oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tvar oldClearColor, oldClearAlpha, oldOverrideMaterial;\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\n\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\t}\n\n\t\tif ( this.clearColor ) {\n\n\t\t\toldClearColor = renderer.getClearColor().getHex();\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n\t\tif ( this.clearDepth ) {\n\n\t\t\trenderer.clearDepth();\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\trenderer.render( this.scene, this.camera );\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\n\n\t\t}\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\n\n\t\t}\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n} );\n\nexport { RenderPass };\n"],"mappings":"AAAA,SAASA,IAAT,QAAqB,2BAArB;;AAEA,IAAIC,UAAU,GAAG,SAAbA,UAAa,CAAWC,KAAX,EAAkBC,MAAlB,EAA0BC,gBAA1B,EAA4CC,UAA5C,EAAwDC,UAAxD,EAAqE;EAErFN,IAAI,CAACO,IAAL,CAAW,IAAX;EAEA,KAAKL,KAAL,GAAaA,KAAb;EACA,KAAKC,MAAL,GAAcA,MAAd;EAEA,KAAKC,gBAAL,GAAwBA,gBAAxB;EAEA,KAAKC,UAAL,GAAkBA,UAAlB;EACA,KAAKC,UAAL,GAAoBA,UAAU,KAAKE,SAAjB,GAA+BF,UAA/B,GAA4C,CAA9D;EAEA,KAAKG,KAAL,GAAa,IAAb;EACA,KAAKC,UAAL,GAAkB,KAAlB;EACA,KAAKC,SAAL,GAAiB,KAAjB;AAEA,CAhBD;;AAkBAV,UAAU,CAACW,SAAX,GAAuBC,MAAM,CAACC,MAAP,CAAeD,MAAM,CAACE,MAAP,CAAef,IAAI,CAACY,SAApB,CAAf,EAAgD;EAEtEI,WAAW,EAAEf,UAFyD;EAItEgB,MAAM,EAAE,gBAAWC,QAAX,EAAqBC,WAArB,EAAkCC;EAAW;EAA7C,EAA4E;IAEnF,IAAIC,YAAY,GAAGH,QAAQ,CAACI,SAA5B;IACAJ,QAAQ,CAACI,SAAT,GAAqB,KAArB;IAEA,IAAIC,aAAJ,EAAmBC,aAAnB,EAAkCC,mBAAlC;;IAEA,IAAK,KAAKrB,gBAAL,KAA0BI,SAA/B,EAA2C;MAE1CiB,mBAAmB,GAAG,KAAKvB,KAAL,CAAWE,gBAAjC;MAEA,KAAKF,KAAL,CAAWE,gBAAX,GAA8B,KAAKA,gBAAnC;IAEA;;IAED,IAAK,KAAKC,UAAV,EAAuB;MAEtBkB,aAAa,GAAGL,QAAQ,CAACQ,aAAT,GAAyBC,MAAzB,EAAhB;MACAH,aAAa,GAAGN,QAAQ,CAACU,aAAT,EAAhB;MAEAV,QAAQ,CAACW,aAAT,CAAwB,KAAKxB,UAA7B,EAAyC,KAAKC,UAA9C;IAEA;;IAED,IAAK,KAAKI,UAAV,EAAuB;MAEtBQ,QAAQ,CAACR,UAAT;IAEA;;IAEDQ,QAAQ,CAACY,eAAT,CAA0B,KAAKC,cAAL,GAAsB,IAAtB,GAA6BX,UAAvD,EA9BmF,CAgCnF;;IACA,IAAK,KAAKX,KAAV,EAAkBS,QAAQ,CAACT,KAAT,CAAgBS,QAAQ,CAACc,cAAzB,EAAyCd,QAAQ,CAACe,cAAlD,EAAkEf,QAAQ,CAACgB,gBAA3E;IAClBhB,QAAQ,CAACD,MAAT,CAAiB,KAAKf,KAAtB,EAA6B,KAAKC,MAAlC;;IAEA,IAAK,KAAKE,UAAV,EAAuB;MAEtBa,QAAQ,CAACW,aAAT,CAAwBN,aAAxB,EAAuCC,aAAvC;IAEA;;IAED,IAAK,KAAKpB,gBAAL,KAA0BI,SAA/B,EAA2C;MAE1C,KAAKN,KAAL,CAAWE,gBAAX,GAA8BqB,mBAA9B;IAEA;;IAEDP,QAAQ,CAACI,SAAT,GAAqBD,YAArB;EAEA;AAtDqE,CAAhD,CAAvB;AA0DA,SAASpB,UAAT"},"metadata":{},"sourceType":"module"}