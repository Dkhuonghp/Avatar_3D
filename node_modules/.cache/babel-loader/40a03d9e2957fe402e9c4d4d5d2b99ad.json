{"ast":null,"code":"import _objectWithoutProperties from \"/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/khuong/Downloads/avatar-homepage-demo-forked/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _excluded = [\"onCompile\"];\n\nvar _jsxFileName = \"/Users/khuong/Downloads/avatar-homepage-demo-forked/src/Avatar.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { Html, useGLTF } from '@react-three/drei';\nimport React, { useLayoutEffect, useMemo } from 'react';\nimport { useThree } from 'react-three-fiber';\nimport * as THREE from 'three';\nimport { useMouse3D } from './Mouse';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Avatar(props) {\n  _s();\n\n  var _useGLTF = useGLTF('avatar.glb'),\n      scene = _useGLTF.scene,\n      nodes = _useGLTF.nodes;\n\n  var _useMemo = useMemo(function () {\n    return {\n      plane: new THREE.Plane(new THREE.Vector3(0, 0, 1), -0.5)\n    };\n  }, []),\n      plane = _useMemo.plane;\n\n  useMouse3D(plane, function (mouse3D) {\n    nodes.Head.lookAt(mouse3D);\n  });\n  return /*#__PURE__*/_jsxDEV(\"group\", _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/_jsxDEV(\"primitive\", {\n      object: scene\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Avatar, \"i0pe5tHWIkpQGL3XvcnAop+jlG0=\", false, function () {\n  return [useGLTF, useMouse3D];\n});\n\n_c = Avatar;\nexport function Wireframe(_ref) {\n  _s2();\n\n  var _ref$onCompile = _ref.onCompile,\n      onCompile = _ref$onCompile === void 0 ? function () {} : _ref$onCompile,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useGLTF2 = useGLTF('loading.glb'),\n      nodes = _useGLTF2.nodes;\n\n  var _useThree = useThree(),\n      gl = _useThree.gl,\n      scene = _useThree.scene,\n      camera = _useThree.camera;\n\n  useLayoutEffect(function () {\n    gl.compile(scene, camera);\n    onCompile();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"group\", _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/_jsxDEV(\"mesh\", {\n      geometry: nodes.Loading.geometry,\n      children: /*#__PURE__*/_jsxDEV(\"meshBasicMaterial\", {\n        color: \"gray\",\n        wireframe: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Wireframe, \"7pzBEOsXwmY8VjLOIxho6iNJD5Q=\", false, function () {\n  return [useGLTF, useThree];\n});\n\n_c2 = Wireframe;\nexport function Loading() {\n  return /*#__PURE__*/_jsxDEV(Html, {\n    children: \"loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 10\n  }, this);\n}\n_c3 = Loading;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Avatar\");\n$RefreshReg$(_c2, \"Wireframe\");\n$RefreshReg$(_c3, \"Loading\");","map":{"version":3,"names":["Html","useGLTF","React","useLayoutEffect","useMemo","useThree","THREE","useMouse3D","Avatar","props","scene","nodes","plane","Plane","Vector3","mouse3D","Head","lookAt","Wireframe","onCompile","gl","camera","compile","Loading","geometry"],"sources":["/Users/khuong/Downloads/avatar-homepage-demo-forked/src/Avatar.js"],"sourcesContent":["import { Html, useGLTF } from '@react-three/drei'\r\nimport React, { useLayoutEffect, useMemo } from 'react'\r\nimport { useThree } from 'react-three-fiber'\r\nimport * as THREE from 'three'\r\n\r\nimport { useMouse3D } from './Mouse'\r\n\r\nexport default function Avatar(props) {\r\n  const { scene, nodes } = useGLTF('avatar.glb')\r\n  const { plane } = useMemo(\r\n    () => ({\r\n      plane: new THREE.Plane(new THREE.Vector3(0, 0, 1), -0.5),\r\n    }),\r\n    []\r\n  )\r\n  useMouse3D(plane, (mouse3D) => {\r\n    nodes.Head.lookAt(mouse3D)\r\n  })\r\n  return (\r\n    <group {...props}>\r\n      <primitive object={scene} />\r\n    </group>\r\n  )\r\n}\r\n\r\nexport function Wireframe({ onCompile = () => {}, ...props }) {\r\n  const { nodes } = useGLTF('loading.glb')\r\n  const { gl, scene, camera } = useThree()\r\n  useLayoutEffect(() => {\r\n    gl.compile(scene, camera)\r\n    onCompile()\r\n  }, [])\r\n  return (\r\n    <group {...props}>\r\n      <mesh geometry={nodes.Loading.geometry}>\r\n        <meshBasicMaterial color=\"gray\" wireframe />\r\n      </mesh>\r\n    </group>\r\n  )\r\n}\r\n\r\nexport function Loading() {\r\n  return <Html>loading...</Html>\r\n}\r\n"],"mappings":";;;;;;;;AAAA,SAASA,IAAT,EAAeC,OAAf,QAA8B,mBAA9B;AACA,OAAOC,KAAP,IAAgBC,eAAhB,EAAiCC,OAAjC,QAAgD,OAAhD;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAEA,SAASC,UAAT,QAA2B,SAA3B;;AAEA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;EAAA;;EACpC,eAAyBR,OAAO,CAAC,YAAD,CAAhC;EAAA,IAAQS,KAAR,YAAQA,KAAR;EAAA,IAAeC,KAAf,YAAeA,KAAf;;EACA,eAAkBP,OAAO,CACvB;IAAA,OAAO;MACLQ,KAAK,EAAE,IAAIN,KAAK,CAACO,KAAV,CAAgB,IAAIP,KAAK,CAACQ,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAhB,EAA4C,CAAC,GAA7C;IADF,CAAP;EAAA,CADuB,EAIvB,EAJuB,CAAzB;EAAA,IAAQF,KAAR,YAAQA,KAAR;;EAMAL,UAAU,CAACK,KAAD,EAAQ,UAACG,OAAD,EAAa;IAC7BJ,KAAK,CAACK,IAAN,CAAWC,MAAX,CAAkBF,OAAlB;EACD,CAFS,CAAV;EAGA,oBACE,iDAAWN,KAAX;IAAA,uBACE;MAAW,MAAM,EAAEC;IAAnB;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAKD;;GAhBuBF,M;UACGP,O,EAOzBM,U;;;KARsBC,M;AAkBxB,OAAO,SAASU,SAAT,OAAuD;EAAA;;EAAA,0BAAlCC,SAAkC;EAAA,IAAlCA,SAAkC,+BAAtB,YAAM,CAAE,CAAc;EAAA,IAATV,KAAS;;EAC5D,gBAAkBR,OAAO,CAAC,aAAD,CAAzB;EAAA,IAAQU,KAAR,aAAQA,KAAR;;EACA,gBAA8BN,QAAQ,EAAtC;EAAA,IAAQe,EAAR,aAAQA,EAAR;EAAA,IAAYV,KAAZ,aAAYA,KAAZ;EAAA,IAAmBW,MAAnB,aAAmBA,MAAnB;;EACAlB,eAAe,CAAC,YAAM;IACpBiB,EAAE,CAACE,OAAH,CAAWZ,KAAX,EAAkBW,MAAlB;IACAF,SAAS;EACV,CAHc,EAGZ,EAHY,CAAf;EAIA,oBACE,iDAAWV,KAAX;IAAA,uBACE;MAAM,QAAQ,EAAEE,KAAK,CAACY,OAAN,CAAcC,QAA9B;MAAA,uBACE;QAAmB,KAAK,EAAC,MAAzB;QAAgC,SAAS;MAAzC;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAOD;;IAdeN,S;UACIjB,O,EACYI,Q;;;MAFhBa,S;AAgBhB,OAAO,SAASK,OAAT,GAAmB;EACxB,oBAAO,QAAC,IAAD;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;AACD;MAFeA,O"},"metadata":{},"sourceType":"module"}