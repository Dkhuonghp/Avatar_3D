'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var reactThreeFiber = require('react-three-fiber');
var useEffectfulState = require('./useEffectfulState-8ab6864f.js');
var StatsImpl = require('three/examples/js/libs/stats.min');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var StatsImpl__default = /*#__PURE__*/_interopDefaultLegacy(StatsImpl);

function Stats(_ref) {
  var _ref$showPanel = _ref.showPanel,
      showPanel = _ref$showPanel === void 0 ? 0 : _ref$showPanel,
      className = _ref.className,
      parent = _ref.parent;
  var stats = useEffectfulState.useEffectfulState(function () {
    return new StatsImpl__default['default']();
  }, []);
  React.useEffect(function () {
    if (stats) {
      var node = parent && parent.current || document.body;
      stats.showPanel(showPanel);
      node == null ? void 0 : node.appendChild(stats.dom);
      if (className) stats.dom.classList.add(className);
      var begin = reactThreeFiber.addEffect(function () {
        return stats.begin();
      });
      var end = reactThreeFiber.addAfterEffect(function () {
        return stats.end();
      });
      return function () {
        node == null ? void 0 : node.removeChild(stats.dom);
        begin();
        end();
      };
    }
  }, [parent, stats, className, showPanel]);
  return null;
}

exports.Stats = Stats;
